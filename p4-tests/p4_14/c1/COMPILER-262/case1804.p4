// Copyright (c) 2016 Arista Networks, Inc.  All rights reserved.
// Arista Networks, Inc. Confidential and Proprietary.
// By accepting and/or using this Arista Software, Barefoot Networks,
// Inc., ("Barefoot") agrees to use this Arista Software for the sole
// purpose of debugging Barefoot's software products only. Barefoot
// further agrees not to reverse-engineer or de-obfuscate this Arista
// Software.
//
// Random Seed: 183213







#ifdef __TARGET_BMV2__
#define BMV2
#endif

#ifdef __TARGET_TOFINO__
#include <tofino/constants.p4>
#include <tofino/intrinsic_metadata.p4>
#include <tofino/primitives.p4>
#include <tofino/stateful_alu_blackbox.p4>
#else





header_type Cusick {
	fields {
		Buncombe : 3;
	}
}
metadata Cusick Thatcher;

header_type Louin {
	fields {
		Hernandez : 1;
		Licking : 9;
		Durant : 48;
		Deeth : 32;
	}
}
metadata Louin Telephone;

header_type Deerwood {
	fields {
		LaHoma : 9;
		RoseBud : 3;
		Toklat : 16;
		WebbCity : 16;
		Quinhagak : 13;
		Colona : 13;
		Parmelee : 16;
		Perrine : 9;
		Lisman : 16;
		Youngtown : 1;
		MiraLoma : 3;
		Honaker : 5;
		Mustang : 2;
	}
}

metadata Deerwood Mahomet;

header_type Glenolden {
	fields {
		WyeMills : 9;
		Catawissa : 19;
		Reddell : 2;
		Biloxi : 32;
		Metzger : 19;
		Loysburg : 2;
		Palco : 8;
		Harvest : 32;
		Mango : 16;
		Longford : 1;
		Newtok : 5;
		Keller : 3;
		Eolia : 1;
	}
}

metadata Glenolden Nicodemus;




action Ramhurst(Immokalee) {
    modify_field(Endicott, Immokalee);
}

#ifdef BMV2
#define Nelson     Skene
#else
#define Nelson         China
#endif

header_type Kendrick {
	fields {
		Swisher : 8;
		Iberia : 48;
	}
}
metadata Kendrick Hodge;

#define Powhatan 0
#define Pembine 1
#define Jarreau 2
#define Hooker 3
#define Waipahu 4
#define Ocilla 5
#define Blackwood 6


#define Paullina \
    ((Follett != Powhatan) and \
     (Follett != Ocilla))
#define Greenwood \
    ((Follett == Powhatan) or \
     (Follett == Ocilla))
#define Burrton \
    (Follett == Pembine)
#define Elmhurst \
    (Follett == Jarreau)
#endif



#ifndef Funkley
#define Funkley

header_type Iraan {
	fields {
		Taopi : 24;
		Viroqua : 24;
		Salus : 24;
		Corder : 24;
		Peebles : 16;
		Nipton : 16;
		Ahmeek : 16;
		Galestown : 16;
		Lovewell : 12;
		Tabler : 2;
		Spraberry : 1;
		Dunnville : 1;
		Anacortes : 1;
		Cutler : 1;
		Challis : 1;
		Altus : 1;
		Shopville : 1;
	}
}

header_type Mentmore {
	fields {
		Berlin : 24;
		Almeria : 24;
		Gomez : 24;
		Cathcart : 24;
		Muncie : 24;
		Monahans : 24;
		Caliente : 16;
		Segundo : 16;
		Mayview : 16;
		Horsehead : 12;
		Bellwood : 3;
		Colson : 3;
		Dozier : 1;
		Davant : 1;
		Robert : 1;
		GlenRose : 1;
		Jayton : 1;
		Bledsoe : 1;
		Needles : 1;
	}
}

header_type Timnath {
	fields {
		Coalwood : 8;
		Mocane : 1;
		Toccopola : 1;
		Alvord : 1;
		WestLawn : 1;
		Varna : 1;
	}
}

header_type Fitzhugh {
	fields {
		Columbus : 32;
		Valeene : 32;
		Storden : 8;
		Bushland : 16;
	}
}

header_type Hargis {
	fields {
		RedMills : 128;
		Anniston : 128;
		Dushore : 20;
		Woodland : 8;
		Northlake : 13;
		Ronan : 11;
	}
}

header_type Booth {
	fields {
		Renton : 14;
		BigBar : 1;
		Flomot : 1;
		Wheatland : 12;
		CleElum : 1;
		Arnold : 6;
	}
}

header_type Bosco {
	fields {
		DeLancey : 1;
		Tuttle : 1;
	}
}

header_type Rockaway {
	fields {
		Wyatte : 8;
	}
}

header_type Cowell {
	fields {
		Ozark : 16;
	}
}

header_type Hotchkiss {
	fields {
		Tarlton : 32;
		Deloit : 32;
	}
}

#endif



#ifndef Willows
#define Willows



header_type Monaca {
	fields {
		Ladner : 24;
		Dubbs : 24;
		Greer : 24;
		DonaAna : 24;
		DelRosa : 16;
	}
}



header_type Kasilof {
	fields {
		Naguabo : 3;
		Arredondo : 1;
		Lutsen : 12;
		Fouke : 16;
	}
}



header_type Hayward {
	fields {
		Paisano : 4;
		Duncombe : 4;
		Satus : 8;
		Angwin : 16;
		Swifton : 16;
		Mabelvale : 3;
		Delavan : 13;
		Leonore : 8;
		Scissors : 8;
		Fairchild : 16;
		Bassett : 32;
		Dauphin : 32;
	}
}

header_type Sespe {
	fields {
		Kanab : 4;
		Alcalde : 8;
		Craigtown : 20;
		Poland : 16;
		Crumstown : 8;
		GilaBend : 8;
		Shelbiana : 128;
		Kaufman : 128;
	}
}




header_type Occoquan {
	fields {
		Stockton : 8;
		Seagrove : 8;
		Cypress : 16;
	}
}

header_type Roxobel {
	fields {
		Academy : 16;
		Cloverly : 16;
		Mattese : 32;
		Dunphy : 32;
		Remington : 4;
		Chugwater : 4;
		Geeville : 8;
		Brady : 16;
		DuPont : 16;
		Sheldahl : 16;
	}
}

header_type Tecumseh {
	fields {
		Eucha : 16;
		Speed : 16;
		Tunica : 16;
		ShowLow : 16;
	}
}



header_type Loris {
	fields {
		Renfroe : 16;
		Piketon : 16;
		Harris : 8;
		Judson : 8;
		Trotwood : 16;
	}
}

header_type Vinings {
	fields {
		DeSart : 48;
		Hagerman : 32;
		Burien : 48;
		Goree : 32;
	}
}



header_type Vandling {
	fields {
		Engle : 1;
		Gassoway : 1;
		Sontag : 1;
		Amalga : 1;
		SneeOosh : 1;
		Kulpmont : 3;
		FairOaks : 5;
		Crossnore : 3;
		Kamas : 16;
	}
}

header_type Angus {
	fields {
		Lepanto : 24;
		Luzerne : 8;
	}
}



header_type RockPort {
	fields {
		PortWing : 8;
		Keltys : 24;
		Pengilly : 24;
		Lofgreen : 8;
	}
}

#endif



#ifndef Pound
#define Pound

parser start {
   return Pierpont;
}

#define Bluff        0x8100
#define Satanta        0x0800
#define Cardenas        0x86dd
#define Portal        0x9100
#define Chitina        0x8847
#define Pidcoke         0x0806
#define Florida        0x8035
#define GlenRock        0x88cc
#define Ravinia        0x8809

#define Fabens              1
#define Sonora              2
#define Maury              4
#define Bryan               6
#define Basalt               17
#define Salineno                47

#define Hanamaulu         0x501
#define Wahoo          0x506
#define Callao          0x511
#define Criner          0x52F


#define Hildale                 4789



#define Darden               0
#define UnionGap              1
#define Randle                2



#define Carlin          0
#define Chelsea          4095
#define Wayne  4096
#define Sewaren  8191



#define Yorklyn                      0
#define Edmondson                  0
#define Jackpot                 1

header Monaca SaintAnn;
header Monaca Helotes;
header Kasilof Florala;
header Hayward Redvale;
header Hayward Ludell;
header Sespe Clermont;
header Sespe Maupin;
header Roxobel Veradale;
header Tecumseh Requa;
header Roxobel Hillister;
header Tecumseh Dyess;
header RockPort Milwaukie;
header Loris Newsoms;
header Vandling Hurst;

parser Pierpont {
   extract( SaintAnn );
   return select( SaintAnn.DelRosa ) {
      Bluff : Ballwin;
      Satanta : Sallisaw;
      Cardenas : WestCity;
      Pidcoke  : Townville;
      default        : ingress;
   }
}

parser Ballwin {
   extract( Florala );
   return select( Florala.Fouke ) {
      Satanta : Sallisaw;
      Cardenas : WestCity;
      Pidcoke  : Townville;
      default : ingress;
   }
}

parser Sallisaw {
   extract( Redvale );
   return select(Redvale.Delavan, Redvale.Duncombe, Redvale.Scissors) {
      Callao : Kempner;
      default : ingress;
   }
}

parser WestCity {
   extract( Maupin );
   return ingress;
}

parser Townville {
   extract( Newsoms );
   return ingress;
}

parser Kempner {
   extract(Requa);
   return select(Requa.Speed) {
      Hildale : Sopris;
      default : ingress;
    }
}

parser Nevis {
   set_metadata(Phelps.Tabler, Randle);
   return ViewPark;
}

parser Paragould {
   set_metadata(Phelps.Tabler, Randle);
   return Higley;
}

parser Baltic {
   extract(Hurst);
   return select(Hurst.Engle, Hurst.Gassoway, Hurst.Sontag, Hurst.Amalga, Hurst.SneeOosh,
             Hurst.Kulpmont, Hurst.FairOaks, Hurst.Crossnore, Hurst.Kamas) {
      Satanta : Nevis;
      Cardenas : Paragould;
      default : ingress;
   }
}

parser Sopris {
   extract(Milwaukie);
   set_metadata(Phelps.Tabler, UnionGap);
   return Vallejo;
}

parser ViewPark {
   extract( Ludell );
   return ingress;
}

parser Higley {
   extract( Clermont );
   return ingress;
}

parser Vallejo {
   extract( Helotes );
   return select( Helotes.DelRosa ) {
      Satanta: ViewPark;
      Cardenas: Higley;
      default: ingress;
   }
}
#endif

metadata Iraan Phelps;
metadata Mentmore Glenshaw;
metadata Booth Kranzburg;
metadata Fitzhugh Stilwell;
metadata Hargis Opelousas;
metadata Bosco SandCity;
metadata Timnath Nashoba;
metadata Rockaway Pinecrest;
metadata Cowell Kalkaska;
metadata Hotchkiss Brinkley;






@pragma pa_solitary ingress Phelps.Nipton
@pragma pa_solitary ingress Phelps.Ahmeek
@pragma pa_solitary ingress Phelps.Galestown
@pragma pa_solitary egress Glenshaw.Mayview
@pragma pa_solitary ig_intr_md_for_tm.ucast_egress_port




#ifndef Beaverdam
#define Beaverdam

action Elsmere() {
   no_op();
}

#endif

















#define Mendon 288

action Tascosa(Vinita, Verdigris, Armijo, Exeter, Clearco, PawCreek) {
    modify_field(Kranzburg.Renton, Vinita);
    modify_field(Kranzburg.BigBar, Verdigris);
    modify_field(Kranzburg.Wheatland, Armijo);
    modify_field(Kranzburg.Flomot, Exeter);
    modify_field(Kranzburg.CleElum, Clearco);
    modify_field(Kranzburg.Arnold, PawCreek);
}

@pragma command_line --no-dead-code-elimination
table PikeView {
    reads {
        ig_intr_md.ingress_port : exact;
    }
    actions {
        Tascosa;
    }
    size : Mendon;
}

control Gunder {
    if (ig_intr_md.resubmit_flag == 0) {
        apply(PikeView);
    }
}





#define Newcastle 64


action Bonilla() {
   modify_field( Phelps.Spraberry, 1 );
}

table Council {
   reads {
      SaintAnn.Ladner : exact;
      SaintAnn.Dubbs : exact;
   }

   actions {
      Bonilla;
   }
   size : Newcastle;
}

control Overton {
   apply( Council );
}



#define Chatfield 1024
#define Sledge 4096
#define Twichell 4096
#define Yocemento 4096
#define Carmel 4096
#define ElDorado 1024
#define Monsey 4096

action Lucerne() {
   modify_field( Stilwell.Columbus, Ludell.Bassett );
   modify_field( Stilwell.Valeene, Ludell.Dauphin );
   modify_field( Stilwell.Storden, Ludell.Scissors );
   modify_field( Opelousas.RedMills, Clermont.Shelbiana );
   modify_field( Opelousas.Anniston, Clermont.Kaufman );
   modify_field( Opelousas.Dushore, Clermont.Craigtown );
   modify_field( Phelps.Taopi, Helotes.Ladner );
   modify_field( Phelps.Viroqua, Helotes.Dubbs );
   modify_field( Phelps.Salus, Helotes.Greer );
   modify_field( Phelps.Corder, Helotes.DonaAna );
   modify_field( Phelps.Peebles, Helotes.DelRosa );
}

action BeeCave() {
   modify_field( Phelps.Tabler, Darden );
   modify_field( Phelps.Ahmeek, Kranzburg.Renton);
   modify_field( Stilwell.Columbus, Redvale.Bassett );
   modify_field( Stilwell.Valeene, Redvale.Dauphin );
   modify_field( Stilwell.Storden, Redvale.Scissors );
   modify_field( Opelousas.RedMills, Maupin.Shelbiana );
   modify_field( Opelousas.Anniston, Maupin.Kaufman );
   modify_field( Opelousas.Dushore, Clermont.Craigtown );
   modify_field( Phelps.Taopi, SaintAnn.Ladner );
   modify_field( Phelps.Viroqua, SaintAnn.Dubbs );
   modify_field( Phelps.Salus, SaintAnn.Greer );
   modify_field( Phelps.Corder, SaintAnn.DonaAna );
   modify_field( Phelps.Peebles, SaintAnn.DelRosa );
}

table Higbee {
   reads {
      SaintAnn.Ladner : exact;
      SaintAnn.Dubbs : exact;
      Redvale.Dauphin : exact;
      Phelps.Tabler : exact;
   }

   actions {
      Lucerne;
      BeeCave;
   }

   default_action : BeeCave();
   size : Chatfield;
}


action Trenary() {
   modify_field( Phelps.Nipton, Kranzburg.Wheatland );
}

action Finney( Millwood ) {
   modify_field( Phelps.Nipton, Millwood );
}

action Edinburg() {
   modify_field( Phelps.Nipton, Florala.Lutsen );
}

table Dundee {
   reads {
      Kranzburg.Renton : ternary;
      Florala : valid;
      Florala.Lutsen : ternary;
   }

   actions {
      Trenary;
      Finney;
      Edinburg;
   }
   size : Yocemento;
}

action ElMango( Haslet ) {
   modify_field( Phelps.Ahmeek, Haslet );
}

action MudButte() {

   modify_field( Phelps.Cutler, 1 );
   modify_field( Pinecrest.Wyatte,
                 Jackpot );
}

table Morrow {
   reads {
      Redvale.Bassett : exact;
   }

   actions {
      ElMango;
      MudButte;
   }
   default_action : MudButte;
   size : Twichell;
}

action Hartford( Napanoch, Makawao, Hauppauge, Ralls, Bratenahl,
                        Chackbay, Bethania ) {
   modify_field( Phelps.Nipton, Napanoch );
   modify_field( Phelps.Shopville, Bethania );
   Willmar(Makawao, Hauppauge, Ralls, Bratenahl,
                        Chackbay );
}

action Saragosa() {
   modify_field( Phelps.Challis, 1 );
   modify_field( Phelps.Altus, 1 );
}

table Burgin {
   reads {
      Milwaukie.Pengilly : exact;
   }

   actions {
      Hartford;
      Saragosa;
   }
   size : Sledge;
}

action Willmar(Makawao, Hauppauge, Ralls, Bratenahl,
                        Chackbay ) {
   modify_field( Nashoba.Coalwood, Makawao );
   modify_field( Nashoba.Mocane, Hauppauge );
   modify_field( Nashoba.Alvord, Ralls );
   modify_field( Nashoba.Toccopola, Bratenahl );
   modify_field( Nashoba.WestLawn, Chackbay );
}

action Merritt(Makawao, Hauppauge, Ralls, Bratenahl,
                        Chackbay ) {
   modify_field( Phelps.Galestown, Kranzburg.Wheatland );
   modify_field( Phelps.Shopville, 1 );
   Willmar(Makawao, Hauppauge, Ralls, Bratenahl,
                        Chackbay );
}

action Prosser(Trammel, Makawao, Hauppauge, Ralls,
                        Bratenahl, Chackbay ) {
   modify_field( Phelps.Galestown, Trammel );
   modify_field( Phelps.Shopville, 1 );
   Willmar(Makawao, Hauppauge, Ralls, Bratenahl,
                        Chackbay );
}

action Mackey(Makawao, Hauppauge, Ralls, Bratenahl,
                        Chackbay ) {
   modify_field( Phelps.Galestown, Florala.Lutsen );
   modify_field( Phelps.Shopville, 1 );
   Willmar(Makawao, Hauppauge, Ralls, Bratenahl,
                        Chackbay );
}

table Savery {
   reads {
      Kranzburg.Wheatland : exact;
   }

   actions {
      Merritt;
   }

   size : Carmel;
}

table Thistle {
   reads {
      Kranzburg.Renton : exact;
      Florala.Lutsen : exact;
   }

   actions {
      Prosser;
      Elsmere;
   }
   default_action : Elsmere;

   size : ElDorado;
}

table Juneau {
   reads {
      Florala.Lutsen : exact;
   }

   actions {
      Mackey;
   }

   size : Monsey;
}

control Kinde {


   Overton();

   apply( Higbee ) {
         Lucerne {
            apply( Morrow );
            apply( Burgin );
         }
         BeeCave {
            if ( Kranzburg.Flomot == 1 ) {
               apply( Dundee );
            }
            if ( valid( Florala ) ) {

               apply( Thistle ) {
                  Elsmere {

                     apply( Juneau );
                  }
               }
            } else {

               apply( Savery );
            }
         }
   }
}






#if defined(__TARGET_TOFINO__) && !defined(BMV2TOFINO)
register Buenos {
    width  : 1;
    static : Shubert;
    instance_count : 262144;
}

register Chaffey {
    width  : 1;
    static : Gamaliel;
    instance_count : 262144;
}

blackbox stateful_alu Spiro {
    reg : Buenos;
    update_lo_1_value: read_bit;
    output_value : alu_lo;
    output_dst   : SandCity.DeLancey;
}

blackbox stateful_alu Sherack {
    reg : Chaffey;
    update_lo_1_value: read_bit;
    output_value : alu_lo;
    output_dst   : SandCity.Tuttle;
}

field_list Belle {
    Kranzburg.Arnold;
    Florala.Lutsen;
}

field_list_calculation Couchwood {
    input { Belle; }
    algorithm: identity;
    output_width: 18;
}

action Hadley() {
    Spiro.execute_stateful_alu_from_hash(Couchwood);
}

action Hanapepe() {
    Sherack.execute_stateful_alu_from_hash(Couchwood);
}

table Shubert {
    actions {
      Hadley;
    }
    default_action : Hadley;
    size : 1;
}

table Gamaliel {
    actions {
      Hanapepe;
    }
    default_action : Hanapepe;
    size : 1;
}
#endif

action Skiatook(Hammonton) {
    modify_field(SandCity.Tuttle, Hammonton);
}

@pragma  use_hash_action 0
table Sylvester {
    reads {
       Kranzburg.Arnold : exact;
    }
    actions {
      Skiatook;
    }
    size : 512;
}

action Nickerson() {
   modify_field( Phelps.Lovewell, Kranzburg.Wheatland );
   modify_field( Phelps.Dunnville, 0 );
}

table Demarest {
   actions {
      Nickerson;
   }
   size : 1;
}

action Dellslow() {
   modify_field( Phelps.Lovewell, Florala.Lutsen );
   modify_field( Phelps.Dunnville, 1 );
}

table Morgana {
   actions {
      Dellslow;
   }
   size : 1;
}

control KentPark {
   if ( valid( Florala ) ) {
      apply( Morgana );
#if defined(__TARGET_TOFINO__) && !defined(BMV2TOFINO)
      if( Kranzburg.CleElum == 1 ) {
         apply( Shubert );
         apply( Gamaliel );
      }
#endif
   } else {
      apply( Demarest );
      if( Kranzburg.CleElum == 1 ) {
         apply( Sylvester );
      }
   }
}




#define Garwood     256

field_list Lostwood {
   SaintAnn.Ladner;
   SaintAnn.Dubbs;
   SaintAnn.Greer;
   SaintAnn.DonaAna;
   SaintAnn.DelRosa;
}

field_list Larchmont {
   Redvale.Bassett;
   Redvale.Dauphin;
   Redvale.Scissors;
}

field_list Crystola {
   Maupin.Shelbiana;
   Maupin.Kaufman;
   Maupin.Craigtown;
   Maupin.Crumstown;
}





field_list_calculation Dunedin {
    input {
        Lostwood;
    }
#if defined(BMV2) || defined(BMV2TOFINO)
    algorithm : crc32_custom;
#else
    algorithm : crc32;
#endif
    output_width : 32;
}

field_list_calculation Poulan {
    input {
        Larchmont;
    }
#if defined(BMV2) || defined(BMV2TOFINO)
    algorithm : crc32_custom;
#else
    algorithm : crc32;
#endif
    output_width : 32;
}

field_list_calculation Farragut {
    input {
        Crystola;
    }
#if defined(BMV2) || defined(BMV2TOFINO)
    algorithm : crc32_custom;
#else
    algorithm : crc32;
#endif
    output_width : 32;
}



action Torrance() {
    modify_field_with_hash_based_offset(Brinkley.Tarlton, 0,
                                        Dunedin, 65536);
}

action Camanche() {
    modify_field_with_hash_based_offset(Brinkley.Tarlton, 0,
                                        Poulan, 65536);
}

action Dunnellon() {
    modify_field_with_hash_based_offset(Brinkley.Tarlton, 0,
                                        Farragut, 65536);
}

table Othello {
   reads {
      Hillister.valid : ternary;
      Dyess.valid : ternary;
      Ludell.valid : ternary;
      Clermont.valid : ternary;
      Helotes.valid : ternary;
      Veradale.valid : ternary;
      Requa.valid : ternary;
      Redvale.valid : ternary;
      Maupin.valid : ternary;
      SaintAnn.valid : ternary;
   }
   actions {
      Torrance;
      //Camanche;  // Hardware cannot write 2 unique 32-bit hash values (they OR together)
      Elsmere;
   }
   default_action : Elsmere();
   size: Garwood;
}

control Haines {
   apply(Othello);
}



#define Penzance 512

action Kokadjo() {
   modify_field( Nashoba.Varna, 1 );
}

table Bomarton {
   reads {
      Phelps.Galestown : ternary;
      Phelps.Taopi : exact;
      Phelps.Viroqua : exact;
   }
   actions {
      Kokadjo;
   }
   size: Penzance;
}

control Russia {
   if( Phelps.Challis == 0 and Phelps.Altus == 0 ) {
      apply( Bomarton );
   }
}



#define Rockport      65536

register Ingleside {
   width: 1;
   static: Rapids;
   instance_count: Rockport;
}

#ifdef __TARGET_TOFINO__
blackbox stateful_alu Powderly{
    reg: Ingleside;
    update_lo_1_value: set_bit;
}
#endif

action Ingraham(Isabel) {
#if defined(BMV2) || defined(BMV2TOFINO)
   register_write(Ingleside, Isabel, 1);
#else
   Powderly.execute_stateful_alu();
#endif

}

action Belcher() {

   modify_field(Phelps.Anacortes, 1 );
   modify_field(Pinecrest.Wyatte,
                Edmondson);
}
table Rapids {
   reads {
      Phelps.Salus : exact;
      Phelps.Corder : exact;
      Phelps.Nipton : exact;
      Phelps.Ahmeek : exact;
   }

   actions {
      Ingraham;
      Belcher;
   }
   size : Rockport;
}

control Laneburg {




   if (Kranzburg.BigBar == 0 and Phelps.Cutler == 0) {
      apply( Rapids );
   }
}

field_list ElPrado {
    Pinecrest.Wyatte;
    Phelps.Salus;
    Phelps.Corder;
    Phelps.Nipton;
    Phelps.Ahmeek;
}

action Anahola() {
   generate_digest(Yorklyn, ElPrado);
}

table Ackerman {
   actions {
      Anahola;
   }
   size : 1;
}

control Millican {
   if (Phelps.Anacortes == 1) {
      apply( Ackerman );
   }
}


#define Dagsboro 65536
#define Campton 65536
#define LeeCity   8192
#define Rhodell         131072
#define Bigfork 65536
#define Lewistown 1024
#define Clovis 1024
#define Suwanee 16384
#define Hindman 8192
#define Piermont 65536

action Hodges(Milano) {
   modify_field( Opelousas.Northlake, Milano );
}

table Laketown {
   reads {
      Nashoba.Coalwood : exact;

      Opelousas.Anniston mask 0xFFFFFFFFFFFFFFFFFF00000000000000 : lpm;
   }

   actions {
      Hodges;
   }

   size : Hindman;
}

@pragma atcam_partition_index Opelousas.Northlake
@pragma atcam_number_partitions Hindman
table Eclectic {
   reads {
      Opelousas.Northlake : exact;

      Opelousas.Anniston mask 0x000007FFFFFFFFFF0000000000000000 : lpm;
   }

   actions {
      Canton;
   }

   size : Piermont;
}

action PineHill( Wabasha ) {
   modify_field( Opelousas.Ronan, Wabasha );
}

table Wynnewood {

   reads {
      Nashoba.Coalwood : exact;
      Opelousas.Anniston : lpm;
   }

   actions {
      PineHill;
      Elsmere;
   }

   default_action : Elsmere();
   size : Clovis;
}

@pragma atcam_partition_index Opelousas.Ronan
@pragma atcam_number_partitions Clovis
table Dassel {
   reads {
      Opelousas.Ronan : exact;



      Opelousas.Anniston mask 0x000000000000FFFFFFFFFFFFFFFFFFFF : lpm;
   }
   actions {
      Canton;
      Elsmere;
   }

   default_action : Elsmere();
   size : Suwanee;
}

@pragma idletime_precision 1
table Findlay {

   reads {
      Nashoba.Coalwood : exact;
      Stilwell.Valeene : lpm;
   }

   actions {
      Canton;
      Elsmere;
   }

   default_action : Elsmere();
   size : Lewistown;
   support_timeout : true;
}

action KeyWest(Arminto) {
   modify_field(Stilwell.Bushland, Arminto);
}

table McCaulley {
   reads {
      Nashoba.Coalwood : exact;
      Stilwell.Valeene : lpm;
   }

   actions {
      KeyWest;
   }

   size : LeeCity;
}

@pragma atcam_partition_index Stilwell.Bushland
@pragma atcam_number_partitions LeeCity
table Lodoga {
   reads {
      Stilwell.Bushland : exact;




      Stilwell.Valeene mask 0x0000ffff : lpm;
   }
   actions {
      Canton;
      Elsmere;
   }
   default_action : Elsmere();
   size : Rhodell;
}

action Canton( Konnarock ) {
   modify_field( Glenshaw.Needles, 1 );
   modify_field( Kalkaska.Ozark, Konnarock );
}

@pragma idletime_precision 1
table Raytown {
   reads {
      Nashoba.Coalwood : exact;
      Stilwell.Valeene : exact;
   }

   actions {
      Canton;
      Elsmere;
   }
   default_action : Elsmere();
   size : Dagsboro;
   support_timeout : true;
}

@pragma idletime_precision 1
table Steele {
   reads {
      Nashoba.Coalwood : exact;
      Opelousas.Anniston : exact;
   }

   actions {
      Canton;
      Elsmere;
   }
   default_action : Elsmere();
   size : Campton;
   support_timeout : true;
}

action Bodcaw(RockHall, Dialville, Cutten) {
   modify_field(Glenshaw.Caliente, Cutten);
   modify_field(Glenshaw.Berlin, RockHall);
   modify_field(Glenshaw.Almeria, Dialville);
   modify_field(Glenshaw.Needles, 1);
}

table Valsetz {
   reads {
      Kalkaska.Ozark : exact;
   }

   actions {
      Bodcaw;
   }
   size : Bigfork;
}

control WallLake {
   apply( McCaulley );
   if ( SandCity.DeLancey == 0 and
        SandCity.Tuttle == 0 and
        Phelps.Challis == 0 and Nashoba.Varna == 1 ) {
      if ( ( Nashoba.Mocane == 1 ) and
           ( ( Phelps.Tabler == Darden and valid( Redvale ) ) or
             ( Phelps.Tabler != Darden and valid( Ludell ) ) ) ) {
         apply( Raytown );
      } else if ( ( Nashoba.Alvord == 1 ) and
            ( Phelps.Tabler == Darden and valid( Maupin ) ) or
             ( Phelps.Tabler != Darden and valid( Clermont ) ) ) {
                apply( Wynnewood );
            apply( Steele );


         }
   }
   if ( Kalkaska.Ozark != 0 ) {
      if ( Stilwell.Bushland != 0 ) {
         apply( Lodoga ) {
            Elsmere {
               apply( Findlay );
            }
         }
      } else {
         apply( Laketown );
         apply( Dassel ) {

            Elsmere {
               apply( Eclectic );
            }
         }
      }
   }
}

control Palmhurst {
   if( Kalkaska.Ozark != 0 ) {
      apply( Valsetz );
   }
}



#define Dutton     1024
#define Moorman    1024

#define Gobler
#define Thurmond

field_list Firesteel {
   Brinkley.Tarlton;
}

field_list_calculation Honobia {
    input {
        Firesteel;
    }
    algorithm : identity;
    output_width : 51;
}

action_selector Modale {
    selection_key : Honobia;
    selection_mode : resilient;
}

action Hospers(Roberts) {
   modify_field(Glenshaw.Segundo, Roberts);
   modify_field(ig_intr_md_for_tm.ucast_egress_port, Roberts);
}

action_profile Samson {
    actions {
        Hospers;
        Elsmere;
    }
    size : Moorman;
    dynamic_action_selection : Modale;
}

table Anguilla {
   reads {
      Glenshaw.Segundo : exact;
   }
   action_profile: Samson;
   size : Dutton;
}

control Colonie {
   if ((Glenshaw.Segundo & 0x2000) == 0x2000) {
      apply(Anguilla);
   }
}



#define Dante      65536

action Bleecker() {
   modify_field(Glenshaw.Berlin, Phelps.Taopi);
   modify_field(Glenshaw.Almeria, Phelps.Viroqua);
   modify_field(Glenshaw.Gomez, Phelps.Salus);
   modify_field(Glenshaw.Cathcart, Phelps.Corder);
   modify_field(Glenshaw.Caliente, Phelps.Nipton);
}

table Supai {
   actions {
      Bleecker;
   }
   default_action : Bleecker();
   size : 1;
}

control Loughman {
   if (Phelps.Nipton!=0) {
      apply( Supai );
   }
}

action Rawson() {
   modify_field(Glenshaw.Davant, 1);
   modify_field(Glenshaw.Dozier, 1);
   modify_field(Glenshaw.Mayview, Glenshaw.Caliente);
}

action Homeworth() {
}



@pragma ways 1
table Masontown {
   reads {
      Glenshaw.Berlin : exact;
      Glenshaw.Almeria : exact;
   }
   actions {
      Rawson;
      Homeworth;
   }
   default_action : Homeworth;
   size : 1;
}

action Coolin() {
   modify_field(Glenshaw.Robert, 1);
   modify_field(Glenshaw.Bledsoe, 1);
   add(Glenshaw.Mayview, Glenshaw.Caliente, Wayne);
}

table Hoven {
   actions {
      Coolin;
   }
   default_action : Coolin;
   size : 1;
}

action Pittsboro() {
   modify_field(Glenshaw.Jayton, 1);
   modify_field(Glenshaw.Mayview, Glenshaw.Caliente);
}

table Hopedale {
   actions {
      Pittsboro;
   }
   default_action : Pittsboro();
   size : 1;
}

action RedCliff(Frankfort) {
   modify_field(Glenshaw.GlenRose, 1);
   modify_field(Glenshaw.Segundo, Frankfort);
   modify_field(ig_intr_md_for_tm.ucast_egress_port, Frankfort);
}

action Chandalar(RioHondo) {
   modify_field(Glenshaw.Robert, 1);
   modify_field(Glenshaw.Mayview, RioHondo);
}

action ArchCape() {
}

table Ririe {
   reads {
      Glenshaw.Berlin : exact;
      Glenshaw.Almeria : exact;
      Glenshaw.Caliente : exact;
   }

   actions {
      RedCliff;
      Chandalar;
      ArchCape;
   }
   default_action : ArchCape();
   size : Dante;
}

control Magness {
   if (Phelps.Challis == 0) {
      apply(Ririe) {
         ArchCape {
            apply(Masontown) {
               Homeworth {
                  if ((Glenshaw.Berlin & 0x010000) == 0x010000) {
                     apply(Hoven);
                  } else {
                     apply(Hopedale);
                  }
               }
            }
         }
      }
   }
}


action Kennedale() {
   modify_field(Phelps.Challis, 1);
}

table Nason {
   actions {
      Kennedale;
   }
   default_action : Kennedale();
   size : 1;
}

control Clearlake {
   if ((Glenshaw.Needles==0) and (Phelps.Ahmeek==Glenshaw.Segundo)) {
      apply(Nason);
   }
}


#ifndef Tampa
#define Tampa

#define Quinault    4096

action Ramapo( Sublett ) {
   modify_field( Glenshaw.Horsehead, Sublett );
}

action Assinippi() {
   modify_field( Glenshaw.Horsehead, Glenshaw.Caliente );
}

table Piperton {
   reads {
      eg_intr_md.egress_port : exact;
      Glenshaw.Caliente : exact;
   }

   actions {
      Ramapo;
      Assinippi;
   }
   default_action : Assinippi;
   size : Quinault;
}

control TenSleep {
   apply( Piperton );
}

#endif


#ifndef Alabaster
#define Alabaster

#define Abbott 64
#define McKenney 1
#define LaJara  8
#define PineLake 512

#define Center 0

action Naalehu( Charters, LaHabra ) {
   modify_field( Glenshaw.Muncie, Charters );
   modify_field( Glenshaw.Monahans, LaHabra );
}


table Nuiqsut {
   reads {
      Glenshaw.Bellwood : exact;
   }

   actions {
      Naalehu;
   }
   size : LaJara;
}

action Rippon() {
   no_op();
}

action Weimar() {
   modify_field( SaintAnn.DelRosa, Florala.Fouke );
   remove_header( Florala );
}

table Hebbville {
   actions {
      Weimar;
   }
   default_action : Weimar;
   size : McKenney;
}

action Oroville() {
   no_op();
}

action Nuyaka() {
   add_header( Florala );
   modify_field( Florala.Lutsen, Glenshaw.Horsehead );
   modify_field( Florala.Fouke, SaintAnn.DelRosa );
   modify_field( SaintAnn.DelRosa, Bluff );
}



table Terrell {
   reads {
      Glenshaw.Horsehead : exact;
      eg_intr_md.egress_port : exact;
   }

   actions {
      Oroville;
      Nuyaka;
   }
   default_action : Nuyaka;
   size : Abbott;
}

action Marcus() {
   modify_field(SaintAnn.Ladner, Glenshaw.Berlin);
   modify_field(SaintAnn.Dubbs, Glenshaw.Almeria);
   modify_field(SaintAnn.Greer, Glenshaw.Muncie);
   modify_field(SaintAnn.DonaAna, Glenshaw.Monahans);
}

action Keokee() {
   Marcus();
   add_to_field(Redvale.Leonore, -1);
}

action Shawville() {
   Marcus();
   add_to_field(Maupin.GilaBend, -1);
}






@pragma stage 2
table Floyd {
   reads {
      Glenshaw.Colson : exact;
      Glenshaw.Bellwood : exact;
      Glenshaw.Needles : exact;
      Redvale.valid : ternary;
      Maupin.valid : ternary;
   }

   actions {
      Keokee;
      Shawville;
   }
   size : PineLake;
}

control Combine {
   apply( Hebbville );
}

control Clarion {
   apply( Terrell );
}

control Belfalls {
   apply( Nuiqsut );
   apply( Floyd );
}
#endif



field_list Westwood {
    Pinecrest.Wyatte;
    Phelps.Nipton;
    Helotes.Greer;
    Helotes.DonaAna;
    Redvale.Bassett;
}

action Goldsboro() {
   generate_digest(Yorklyn, Westwood);
}

table Merkel {
   actions {
      Goldsboro;
   }

   default_action : Goldsboro;
   size : 1;
}

control Absarokee {
   if (Phelps.Cutler == 1) {
      apply(Merkel);
   }
}

control ingress {
   Gunder();

   Kinde();
   KentPark();

   Laneburg();
   Haines();
   Russia();


   WallLake();
   Loughman();
   Palmhurst();



   Magness();

   Clearlake();


   Colonie();


   Absarokee();
   Millican();


   if( valid( Florala ) ) {
      Combine();
   }
}

control egress {
   TenSleep();
   Belfalls();
   Clarion();
}

