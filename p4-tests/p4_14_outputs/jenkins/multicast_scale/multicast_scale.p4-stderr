warning: out parameter rv may be uninitialized when apply terminates
