{
    "additionalProperties": false, 
    "definitions": {
        "Resources": {
            "additionalProperties": false, 
            "required": [
                "mau_groups", 
                "deparser_groups"
            ], 
            "type": "object", 
            "properties": {
                "mau_groups": {
                    "items": {
                        "$ref": "#/definitions/Group"
                    }, 
                    "type": "array", 
                    "description": "A list of the MAU group properties."
                }, 
                "deparser_groups": {
                    "items": {
                        "$ref": "#/definitions/Group"
                    }, 
                    "type": "array", 
                    "description": "A list of the Deparser group properties."
                }
            }
        }, 
        "Access": {
            "additionalProperties": false, 
            "required": [
                "location"
            ], 
            "type": "object", 
            "properties": {
                "parser_state_name": {
                    "type": "string", 
                    "description": "The name of a parser state that accesses the field."
                }, 
                "location_detail": {
                    "enum": [
                        "xbar", 
                        "vliw"
                    ], 
                    "type": "string"
                }, 
                "action_name": {
                    "type": "string", 
                    "description": "The name of an action that accesses the field."
                }, 
                "table_name": {
                    "type": "string", 
                    "description": "The name of a table that accesses the field."
                }, 
                "location": {
                    "oneOf": [
                        {
                            "type": "integer"
                        }, 
                        {
                            "enum": [
                                "parser", 
                                "deparser"
                            ], 
                            "type": "string"
                        }
                    ], 
                    "description": "The location this access is occurring, either a stage number or parser/deparser."
                }, 
                "deparser_access_type": {
                    "enum": [
                        "pkt", 
                        "bridge", 
                        "imeta", 
                        "checksum", 
                        "pov"
                    ], 
                    "type": "string", 
                    "description": "A string indicating the type access at the deparser."
                }
            }
        }, 
        "Container": {
            "additionalProperties": false, 
            "required": [
                "phv_number", 
                "bit_width", 
                "phv_mau_group_number", 
                "phv_deparser_group_number", 
                "container_type", 
                "records"
            ], 
            "type": "object", 
            "properties": {
                "phv_number": {
                    "type": "integer", 
                    "description": "Unique address of this PHV container."
                }, 
                "bit_width": {
                    "enum": [
                        8, 
                        16, 
                        32
                    ], 
                    "type": "integer", 
                    "description": "The PHV container bit width."
                }, 
                "phv_deparser_group_number": {
                    "type": "integer", 
                    "description": "Deparser group ID."
                }, 
                "phv_mau_group_number": {
                    "type": "integer", 
                    "description": "MAU group ID."
                }, 
                "container_type": {
                    "enum": [
                        "normal", 
                        "tagalong", 
                        "mocha", 
                        "dark", 
                        "clot"
                    ], 
                    "type": "string", 
                    "description": "A string describing the type of this PHV container."
                }, 
                "records": {
                    "items": {
                        "required": [
                            "reads", 
                            "writes", 
                            "field_msb", 
                            "field_class", 
                            "phv_lsb", 
                            "field_name", 
                            "phv_msb", 
                            "gress", 
                            "field_lsb"
                        ], 
                        "type": "object", 
                        "description": "", 
                        "properties": {
                            "writes": {
                                "items": {
                                    "$ref": "#/definitions/Access"
                                }, 
                                "type": "array", 
                                "description": "A list of where write access(es) of this field occur."
                            }, 
                            "phv_lsb": {
                                "type": "integer", 
                                "description": "Least significant bit of this PHV container that is occupied."
                            }, 
                            "reads": {
                                "items": {
                                    "$ref": "#/definitions/Access"
                                }, 
                                "type": "array", 
                                "description": "A list of where read access(es) of this field occur."
                            }, 
                            "field_msb": {
                                "type": "integer", 
                                "description": "Most significant bit of this field in this container.  This container will hold field[msb:lsb]."
                            }, 
                            "field_class": {
                                "enum": [
                                    "pkt", 
                                    "meta", 
                                    "imeta", 
                                    "pov", 
                                    "bridged", 
                                    "padding", 
                                    "compiler-added"
                                ], 
                                "type": "string", 
                                "description": "A classification designation for this field."
                            }, 
                            "field_lsb": {
                                "type": "integer", 
                                "description": "Least significant bit of the field in this container."
                            }, 
                            "field_name": {
                                "type": "string", 
                                "description": "Name of the field."
                            }, 
                            "phv_msb": {
                                "type": "integer", 
                                "description": "Most significant bit of this PHV container that is occupied.  This allocation is phv[phv_msb:phv_lsb] = field[field_msb:field_lsb]."
                            }, 
                            "gress": {
                                "enum": [
                                    "ingress", 
                                    "egress", 
                                    "ghost"
                                ], 
                                "type": "string", 
                                "description": "The packet thread."
                            }
                        }
                    }, 
                    "type": "array", 
                    "description": "A list of field records occupying this container."
                }
            }
        }, 
        "Structures": {
            "additionalProperties": false, 
            "required": [
                "name", 
                "type", 
                "ordered_fields"
            ], 
            "type": "object", 
            "properties": {
                "ordered_fields": {
                    "items": {
                        "type": "string", 
                        "description": "The name of the field."
                    }, 
                    "type": "array", 
                    "description": "An ordered list of fields in the structure, from most significant field to least significant."
                }, 
                "type": {
                    "enum": [
                        "header", 
                        "bridge", 
                        "mirror", 
                        "phase0", 
                        "digest"
                    ], 
                    "type": "string", 
                    "description": "The type of this structure."
                }, 
                "name": {
                    "type": "string", 
                    "description": "The name of this structure.  For example, a header instance name."
                }
            }
        }, 
        "Group": {
            "additionalProperties": false, 
            "required": [
                "group_type", 
                "num_containers", 
                "group_start_address"
            ], 
            "type": "object", 
            "properties": {
                "group_start_address": {
                    "type": "integer", 
                    "description": "The starting address of PHV containers in this group.  Groups are sequences of containers."
                }, 
                "num_containers": {
                    "type": "integer", 
                    "description": "The number of PHV containers in this group."
                }, 
                "group_type": {
                    "enum": [
                        "mau", 
                        "deparser"
                    ], 
                    "type": "string", 
                    "description": "The PHV group type."
                }
            }
        }
    }, 
    "$schema": "http://json-schema.org/draft-04/schema#", 
    "required": [
        "program_name", 
        "build_date", 
        "compiler_version", 
        "schema_version", 
        "containers", 
        "resources", 
        "structures", 
        "pov_structure"
    ], 
    "type": "object", 
    "properties": {
        "build_date": {
            "type": "string", 
            "description": "Timestamp of when the program was built."
        }, 
        "compiler_version": {
            "type": "string", 
            "description": "Compiler version used in compilation."
        }, 
        "pov_structure": {
            "items": {
                "required": [
                    "pov_bit_index", 
                    "pov_bit_name"
                ], 
                "type": "object", 
                "properties": {
                    "pov_bit_index": {
                        "type": "integer", 
                        "description": "Bit index in the packet occupancy vector."
                    }, 
                    "pov_bit_name": {
                        "type": "string", 
                        "description": "The name given to the POV bit."
                    }
                }
            }, 
            "type": "array", 
            "description": "A list attributes describing the POV structure."
        }, 
        "schema_version": {
            "type": "string", 
            "description": "Schema version used to produce this JSON."
        }, 
        "resources": {
            "items": {
                "$ref": "#/definitions/Resources"
            }, 
            "type": "array", 
            "description": "A list of PHV resource information."
        }, 
        "program_name": {
            "type": "string", 
            "description": "Name of the compiled program."
        }, 
        "structures": {
            "items": {
                "$ref": "#/definitions/Structures"
            }, 
            "type": "array", 
            "description": "A list of program and compiler-induced structures, e.g. header structures and bridged metadata."
        }, 
        "containers": {
            "items": {
                "$ref": "#/definitions/Container"
            }, 
            "type": "array", 
            "description": "A list of PHV container allocation information."
        }
    }
}
